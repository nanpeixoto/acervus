# Sistema de GestÃ£o de EstÃ¡gios e Aprendizagem - CIDE

![Sistema CIDE](https://img.shields.io/badge/CIDE-Sistema%20de%20EstÃ¡gios-blue)
![Flutter](https://img.shields.io/badge/Flutter-Web-blue)
![Node.js](https://img.shields.io/badge/Node.js-Backend-green)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-Database-blue)
![Docker](https://img.shields.io/badge/Docker-Containerized-blue)

Sistema completo para gerenciamento de estÃ¡gios, jovens aprendizes, empresas e instituiÃ§Ãµes de ensino. Desenvolvido para o **Centro de IntegraÃ§Ã£o e Desenvolvimento Educacional (CIDE)**.

## ğŸ“‹ Ãndice

- [CaracterÃ­sticas](#-caracterÃ­sticas)
- [Tecnologias](#-tecnologias)
- [PrÃ©-requisitos](#-prÃ©-requisitos)
- [InstalaÃ§Ã£o RÃ¡pida](#-instalaÃ§Ã£o-rÃ¡pida)
- [ConfiguraÃ§Ã£o Manual](#-configuraÃ§Ã£o-manual)
- [Estrutura do Projeto](#-estrutura-do-projeto)
- [Funcionalidades](#-funcionalidades)
- [API Documentation](#-api-documentation)
- [Uso do Sistema](#-uso-do-sistema)
- [Deploy](#-deploy)
- [ContribuiÃ§Ã£o](#-contribuiÃ§Ã£o)
- [LicenÃ§a](#-licenÃ§a)

## ğŸš€ CaracterÃ­sticas

- **Sistema Unificado**: Portal Ãºnico com acesso interno (administrativo) e externo (pÃºblico)
- **Multi-perfil**: Suporte para estagiÃ¡rios, jovens aprendizes, empresas, instituiÃ§Ãµes e administradores
- **GestÃ£o Completa de Contratos**: CriaÃ§Ã£o, ediÃ§Ã£o, termos aditivos e geraÃ§Ã£o de PDFs
- **Dashboard Administrativo**: RelatÃ³rios e mÃ©tricas em tempo real
- **ValidaÃ§Ãµes AutomÃ¡ticas**: CPF, CNPJ, integraÃ§Ã£o com Receita Federal
- **Responsivo**: Interface adaptÃ¡vel para desktop, tablet e mobile
- **SeguranÃ§a**: AutenticaÃ§Ã£o JWT, controle de permissÃµes por perfil

## ğŸ›  Tecnologias

### Backend
- **Node.js** + **TypeScript** + **Express**
- **PostgreSQL** com **Prisma ORM**
- **JWT** para autenticaÃ§Ã£o
- **bcrypt** para hash de senhas
- **PDFKit** para geraÃ§Ã£o de documentos
- **Joi** para validaÃ§Ã£o de dados

### Frontend
- **Flutter Web** com **Dart**
- **Provider** para gerenciamento de estado
- **GoRouter** para navegaÃ§Ã£o
- **HTTP** para comunicaÃ§Ã£o com API
- **Material Design 3**

### DevOps & Deploy
- **Docker** + **Docker Compose**
- **Nginx** como proxy reverso
- **GitHub Actions** para CI/CD (configurÃ¡vel)

## ğŸ“¦ PrÃ©-requisitos

### Para executar com Docker (Recomendado)
- **Docker** 20.10+
- **Docker Compose** 2.0+
- **Git**

### Para desenvolvimento local
- **Node.js** 18+
- **PostgreSQL** 13+
- **Flutter** 3.10+
- **Dart** 3.0+

## âš¡ InstalaÃ§Ã£o RÃ¡pida

### 1. Clone o repositÃ³rio
```bash
git clone https://github.com/seu-usuario/sistema-estagio-cide.git
cd sistema-estagio-cide
```

### 2. Configure e inicie o sistema
```bash
# Usando nosso script automatizado
make setup

# Ou executando diretamente
chmod +x scripts/setup.sh
./scripts/setup.sh
```

### 3. Acesse o sistema
- **Frontend**: http://localhost
- **Backend API**: http://localhost:3001
- **Banco de dados**: localhost:5432

### 4. Login administrativo padrÃ£o
- **Email**: admin@cide.com.br
- **Senha**: admin123

## ğŸ”§ ConfiguraÃ§Ã£o Manual

### Backend

1. **Navegue para o diretÃ³rio do backend**
```bash
cd backend
```

2. **Instale as dependÃªncias**
```bash
npm install
```

3. **Configure o banco de dados**
```bash
# Copie o arquivo de ambiente
cp .env.example .env

# Configure suas variÃ¡veis no .env
# DATABASE_URL="postgresql://usuario:senha@localhost:5432/sistema_estagio"
# JWT_SECRET="seu_jwt_secret_aqui"
```

4. **Execute as migrations**
```bash
npx prisma migrate deploy
npx prisma generate
```

5. **Execute o seed inicial**
```bash
npm run seed
```

6. **Inicie o servidor**
```bash
npm run dev
```

### Frontend

1. **Navegue para o diretÃ³rio do frontend**
```bash
cd frontend
```

2. **Instale as dependÃªncias**
```bash
flutter pub get
```

3. **Execute o aplicativo**
```bash
flutter run -d chrome --web-port 3000
```

## ğŸ“ Estrutura do Projeto

```
sistema-estagio-cide/
â”œâ”€â”€ backend/                 # API Node.js + TypeScript
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/     # Controladores das rotas
â”‚   â”‚   â”œâ”€â”€ middleware/      # Middlewares (auth, error handling)
â”‚   â”‚   â”œâ”€â”€ models/          # Modelos TypeScript
â”‚   â”‚   â”œâ”€â”€ routes/          # DefiniÃ§Ã£o das rotas
â”‚   â”‚   â”œâ”€â”€ services/        # LÃ³gica de negÃ³cio
â”‚   â”‚   â”œâ”€â”€ utils/           # UtilitÃ¡rios e validaÃ§Ãµes
â”‚   â”‚   â””â”€â”€ server.ts        # Servidor principal
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ schema.prisma    # Schema do banco
â”‚   â”‚   â””â”€â”€ migrations/      # Migrations
â”‚   â”œâ”€â”€ uploads/             # Arquivos enviados
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/                # App Flutter Web
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ models/          # Modelos de dados
â”‚   â”‚   â”œâ”€â”€ providers/       # Gerenciamento de estado
â”‚   â”‚   â”œâ”€â”€ screens/         # Telas do aplicativo
â”‚   â”‚   â”œâ”€â”€ services/        # ComunicaÃ§Ã£o com API
â”‚   â”‚   â”œâ”€â”€ widgets/         # Widgets reutilizÃ¡veis
â”‚   â”‚   â”œâ”€â”€ routes/          # ConfiguraÃ§Ã£o de rotas
â”‚   â”‚   â”œâ”€â”€ theme/           # Tema e estilos
â”‚   â”‚   â””â”€â”€ main.dart        # App principal
â”‚   â””â”€â”€ pubspec.yaml
â”œâ”€â”€ scripts/                 # Scripts de configuraÃ§Ã£o
â”‚   â”œâ”€â”€ setup.sh            # Setup automatizado
â”‚   â””â”€â”€ init-db.sql         # InicializaÃ§Ã£o do banco
â”œâ”€â”€ docker-compose.yml       # OrquestraÃ§Ã£o dos containers
â”œâ”€â”€ Makefile                # Comandos Ãºteis
â””â”€â”€ README.md               # Esta documentaÃ§Ã£o
```

## ğŸ¯ Funcionalidades

### Sistema PÃºblico (Sem Login)
- âœ… **Portal de Acesso**: PÃ¡gina inicial com informaÃ§Ãµes do CIDE
- âœ… **Cadastro de EstagiÃ¡rios**: FormulÃ¡rio completo multi-etapas
- âœ… **Cadastro de Jovens Aprendizes**: Registro com validaÃ§Ãµes especÃ­ficas
- âœ… **Cadastro de Empresas**: IntegraÃ§Ã£o com CNPJ da Receita Federal
- âœ… **Cadastro de InstituiÃ§Ãµes**: Registro de escolas e universidades
- âœ… **Busca de Vagas**: VisualizaÃ§Ã£o de oportunidades disponÃ­veis

### Sistema Administrativo (Com Login)
- âœ… **Dashboard**: MÃ©tricas e indicadores em tempo real
- âœ… **GestÃ£o de UsuÃ¡rios**: CRUD completo de todos os perfis
- âœ… **GestÃ£o de Contratos**: CriaÃ§Ã£o, ediÃ§Ã£o e controle de vigÃªncia
- âœ… **Termos Aditivos**: AlteraÃ§Ãµes contratuais com histÃ³rico
- âœ… **GeraÃ§Ã£o de Documentos**: PDFs automÃ¡ticos dos contratos
- âœ… **Controle de Vagas**: PublicaÃ§Ã£o e gerenciamento
- âœ… **RelatÃ³rios**: ExportaÃ§Ã£o de dados e estatÃ­sticas
- âœ… **Alertas**: NotificaÃ§Ãµes de contratos a vencer

### Funcionalidades por Perfil

#### ğŸ‘¤ EstagiÃ¡rio/Jovem Aprendiz
- Visualizar perfil e contratos
- Atualizar dados pessoais
- Acessar documentos
- Candidatar-se a vagas

#### ğŸ¢ Empresa
- Gerenciar vagas
- Visualizar candidatos
- Acompanhar contratos ativos
- Cadastrar supervisores

#### ğŸ“ InstituiÃ§Ã£o de Ensino
- Visualizar alunos em estÃ¡gio
- Acompanhar contratos
- Cadastrar cursos
- Designar orientadores

#### ğŸ‘¨â€ğŸ’¼ Administrador/Colaborador
- Acesso completo ao sistema
- GestÃ£o de todos os mÃ³dulos
- RelatÃ³rios e dashboards
- ConfiguraÃ§Ãµes do sistema

## ğŸ“š API Documentation

### Principais Endpoints

#### AutenticaÃ§Ã£o
```http
POST /api/auth/login
POST /api/auth/registro/estagiario
POST /api/auth/registro/empresa
```

#### EstagiÃ¡rios
```http
GET    /api/estagiarios          # Listar com filtros
GET    /api/estagiarios/:id      # Buscar por ID
PUT    /api/estagiarios/:id      # Atualizar
DELETE /api/estagiarios/:id      # Deletar
```

#### Contratos
```http
GET  /api/contratos             # Listar contratos
POST /api/contratos             # Criar contrato
GET  /api/contratos/:id/pdf     # Gerar PDF
PUT  /api/contratos/:id         # Atualizar
```

#### Empresas
```http
GET  /api/empresas              # Listar empresas
POST /api/empresas/registro     # Registro pÃºblico
PUT  /api/empresas/:id          # Atualizar
```

### AutenticaÃ§Ã£o
```bash
# Todas as rotas protegidas requerem header:
Authorization: Bearer {jwt_token}
```

## ğŸ’¡ Uso do Sistema

### Para Administradores

1. **Acesse o painel administrativo**
   - URL: http://localhost/login
   - Use as credenciais padrÃ£o ou crie um novo usuÃ¡rio

2. **Gerencie cadastros**
   - Visualize e edite estagiÃ¡rios, empresas e instituiÃ§Ãµes
   - Aprove ou rejeite novos cadastros

3. **Crie contratos**
   - Selecione empresa, estudante e instituiÃ§Ã£o
   - Defina termos, valores e vigÃªncia
   - Gere documentos automaticamente

4. **Acompanhe mÃ©tricas**
   - Dashboard com indicadores
   - RelatÃ³rios de performance
   - Alertas de vencimento

### Para UsuÃ¡rios Finais

1. **Cadastre-se pelo portal pÃºblico**
   - Acesse http://localhost
   - Escolha seu perfil (estagiÃ¡rio, empresa, etc.)
   - Preencha o formulÃ¡rio completo

2. **Gerencie seu perfil**
   - FaÃ§a login apÃ³s aprovaÃ§Ã£o
   - Atualize dados quando necessÃ¡rio
   - Acompanhe contratos ativos

## ğŸš€ Deploy

### Deploy com Docker (ProduÃ§Ã£o)

1. **Configure variÃ¡veis de ambiente**
```bash
# Copie e configure o .env para produÃ§Ã£o
cp backend/.env.example backend/.env
# Configure DATABASE_URL, JWT_SECRET, etc.
```

2. **Execute o deploy**
```bash
docker-compose -f docker-compose.prod.yml up -d
```

### Deploy Manual

1. **Backend (Node.js)**
```bash
cd backend
npm ci --only=production
npm run build
npm run migrate
npm start
```

2. **Frontend (Flutter Web)**
```bash
cd frontend
flutter build web --release
# Servir pasta build/web com nginx ou servidor de sua escolha
```

## ğŸ›  Comandos Ãšteis

```bash
# Iniciar todos os serviÃ§os
make start

# Parar todos os serviÃ§os
make stop

# Ver logs em tempo real
make logs

# Resetar banco de dados (CUIDADO!)
make reset-db

# Fazer backup do banco
make backup-db

# Rebuild completo
make rebuild

# Executar migrations
make migrate

# Executar seed
make seed

# Ver status dos serviÃ§os
make status

# Ver todos os comandos disponÃ­veis
make help
```

## ğŸ” Troubleshooting

### Problemas Comuns

**1. Erro de conexÃ£o com banco**
```bash
# Verifique se o PostgreSQL estÃ¡ rodando
make status

# Recrie o container do banco
docker-compose restart postgres
```

**2. Erro de migraÃ§Ã£o**
```bash
# Execute as migrations manualmente
make migrate

# Se necessÃ¡rio, resete o banco
make reset-db
```

**3. Problemas de permissÃ£o**
```bash
# DÃª permissÃ£o aos scripts
chmod +x scripts/*.sh

# Execute como administrador se necessÃ¡rio
sudo make setup
```

**4. Frontend nÃ£o carrega**
```bash
# Verifique se o backend estÃ¡ rodando
curl http://localhost:3001/health

# Rebuild do frontend
docker-compose build frontend
```

## ğŸ“Š Monitoramento

### Logs
```bash
# Logs gerais
docker-compose logs -f

# Logs especÃ­ficos
docker-compose logs -f backend
docker-compose logs -f frontend
docker-compose logs -f postgres
```

### Health Checks
- **Backend**: http://localhost:3001/health
- **Frontend**: http://localhost (deve carregar a pÃ¡gina)
- **Banco**: `psql -h localhost -U sistema_estagio -d sistema_estagio`

## ğŸ¤ ContribuiÃ§Ã£o

1. **Fork o projeto**
2. **Crie uma branch para sua feature**
   ```bash
   git checkout -b feature/AmazingFeature
   ```
3. **Commit suas mudanÃ§as**
   ```bash
   git commit -m 'Add some AmazingFeature'
   ```
4. **Push para a branch**
   ```bash
   git push origin feature/AmazingFeature
   ```
5. **Abra um Pull Request**

### PadrÃµes de CÃ³digo

- **Backend**: Siga os padrÃµes ESLint configurados
- **Frontend**: Use as convenÃ§Ãµes do Dart/Flutter
- **Commits**: Use Conventional Commits
- **DocumentaÃ§Ã£o**: Mantenha README e comentÃ¡rios atualizados

## ğŸ“‹ Roadmap

### PrÃ³ximas Funcionalidades
- [ ] Sistema de notificaÃ§Ãµes por email
- [ ] IntegraÃ§Ã£o com WhatsApp Business
- [ ] App mobile nativo (iOS/Android)
- [ ] RelatÃ³rios avanÃ§ados com grÃ¡ficos
- [ ] Sistema de avaliaÃ§Ã£o de estagiÃ¡rios
- [ ] IntegraÃ§Ã£o com sistemas externos (ERP)
- [ ] Assinatura digital de contratos
- [ ] Portal do candidato com status de processo seletivo

### Melhorias TÃ©cnicas
- [ ] Testes automatizados (Jest + Flutter Test)
- [ ] CI/CD com GitHub Actions
- [ ] Monitoramento com Grafana
- [ ] Cache com Redis
- [ ] Upload de arquivos para S3
- [ ] Logs estruturados
- [ ] DocumentaÃ§Ã£o OpenAPI/Swagger

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a LicenÃ§a MIT - veja o arquivo [LICENSE](LICENSE) para detalhes.

## ğŸ“ Suporte

Para suporte tÃ©cnico ou dÃºvidas sobre o sistema:

- **Email**: 
- **Issues**: [GitHub Issues](https://github.com/seu-usuario/sistema-estagio-cide/issues)
- **DocumentaÃ§Ã£o**: Este README e comentÃ¡rios no cÃ³digo

## ğŸ‘¥ Equipe

- **Desenvolvedor Principal**: WF SoluÃ§Ãµes Inteligentes
- **CIDE**: Centro de IntegraÃ§Ã£o e Desenvolvimento Educacional

---

**Sistema de GestÃ£o de EstÃ¡gios - CIDE** Â© 2025. Desenvolvido com â¤ï¸ para conectar talentos Ã s oportunidades.