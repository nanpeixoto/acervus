<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src="https://cdn.ckeditor.com/ckeditor5/41.0.0/classic/ckeditor.js"></script>
  </head>
  <body>
    <div id="editor"></div>
    <script>
      let editorInstance;

      ClassicEditor.create(document.querySelector('#editor'))
        .then(editor => {
          editorInstance = editor;

          editor.model.document.on('change:data', () => {
            const content = editor.getData();
            // Envia o conteúdo para o Flutter
            window.flutter_inappwebview.callHandler('onTextChange', content);
          });
        })
        .catch(error => {
          console.error(error);
        });

      // Função para setar o conteúdo a partir do Flutter
      function setContent(data) {
        if (editorInstance) {
          editorInstance.setData(data);
        }
      }
    </script>
  </body>
</html>
